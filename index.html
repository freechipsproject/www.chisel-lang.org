<!DOCTYPE html><html><head><title>Chisel/FIRRTL: Home</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="the Chisel/FIRRTL Developers" /><meta name="description" content="Chisel/FIRRTL
Hardware Compiler Framework" /><meta name="og:image" content="/img/poster.png" /><meta name="image" property="og:image" content="/img/poster.png" /><meta name="og:title" content="Chisel/FIRRTL: Home" /><meta name="title" property="og:title" content="Chisel/FIRRTL: Home" /><meta name="og:site_name" content="Chisel/FIRRTL" /><meta name="og:url" content="" /><meta name="og:type" content="website" /><meta name="og:description" content="Chisel/FIRRTL
Hardware Compiler Framework" /><link rel="icon" type="image/png" href="/img/favicon.png" /><meta name="twitter:title" content="Chisel/FIRRTL: Home" /><meta name="twitter:image" content="https://www.chisel-lang.org/img/poster.png" /><meta name="twitter:description" content="Chisel/FIRRTL
Hardware Compiler Framework" /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:site" content="@chisel_lang" /><link rel="icon" type="image/png" sizes="16x16" href="/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/img/favicon310x150.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/highlight/styles/vs.css" /><link rel="stylesheet" href="/css/pattern-style.css" /><script async="async">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-145179088-1' , 'auto');
ga('send', 'pageview');
      </script></head><body><header id="site-header"><div class="navbar-wrapper"><div class="container"><div class="row"><div class="col-xs-3"><a href="/" class="brand"><div class="icon-wrapper"><span>Chisel/FIRRTL</span></div></a></div><div class="col-xs-9"><nav class="text-right"><ul class=""><li class="search-nav hidden-xs"><div id="search-dropdown"><label><i class="fa fa-search"></i>Search</label><input id="search-bar" type="text" placeholder="Enter keywords here..." onclick="displayToggleSearch(event)" /><ul id="search-dropdown-content" class="dropdown dropdown-content"></ul></div></li><li><a class="transparent-on-hover" href="https://github.com/freechipsproject/chisel3" target="_blank" rel="noopener noreferrer"><i class="fa fa-github"></i><span class="hidden-sm hidden-xs">GitHub</span></a></li><li><a class="transparent-on-hover" href="chisel3/"><i class="fa fa-file-text"></i><span class="hidden-sm hidden-xs">Documentation</span></a></li></ul></nav></div></div></div></div><div class="jumbotron"><div class="container"><h1 class="text-center">Chisel/FIRRTL
Hardware Compiler Framework</h1><h2></h2><p class="text-center"><a href="https://github.com/freechipsproject/chisel3" target="_blank" rel="noopener noreferrer" class="btn btn-outline-inverse">View on GitHub</a></p></div></div><div id="horizontal-menu"><ul class="horizontal-nav"><li><a class="" href="/chisel3/">Chisel3</a></li><li><a class="" href="/chisel-testers/">Testers</a></li><li><a class="" href="/chiseltest/">ChiselTest</a></li><li><a class="" href="/firrtl/">FIRRTL</a></li><li><a class="" href="/treadle/">Treadle</a></li><li><a class="" href="/diagrammer/">Diagrammer</a></li><li><a class="" href="/community.html">Community</a></li></ul></div></header><main id="site-main"><section class="use"><div class="container"><div id="content"><p><img src="https://raw.githubusercontent.com/chipsalliance/chisel3/master/docs/src/images/chisel_logo.svg?sanitize=true" alt="Chisel 3" /></p>

<hr />

<h2 id="upcoming-events">Upcoming Events</h2>

<h3 id="chisel-dev-meeting">Chisel Dev Meeting</h3>
<p>Chisel/FIRRTL development meetings happen every Monday and Tuesday from 1100–1200 PT.</p>

<p>Call-in info and meeting notes are available <a href="https://docs.google.com/document/d/1BLP2DYt59DqI-FgFCcjw8Ddl4K-WU0nHmQu0sZ_wAGo/">here</a>.</p>

<h3 id="chisel-community-conference-2021-shanghai-china">Chisel Community Conference 2021, Shanghai, China.</h3>
<p>CCC is an annual gathering of Chisel community enthusiasts and technical exchange workshop. 
This year with the support of the Chisel development community and RISC-V World Conference China 2021 Committee, we have brought together designers and developers with hands-on experience in Chisel from home and abroad to share cutting-edge results and experiences from both the open source community as well as industry.<br />
English translated recordings version will be updated soon.<br />
Looking forward to CCC 2022! See you then!</p>

<hr />

<p><a href="https://gitter.im/freechipsproject/chisel3?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/chipsalliance/chisel3.svg" alt="Join the chat at https://gitter.im/freechipsproject/chisel3" /></a>
<img src="https://github.com/chipsalliance/chisel3/actions/workflows/test.yml/badge.svg" alt="CI" />
<a href="https://github.com/chipsalliance/chisel3/releases/latest"><img src="https://img.shields.io/github/tag/chipsalliance/chisel3.svg?label=release" alt="GitHub tag (latest SemVer)" /></a></p>

<p><a href="https://www.chisel-lang.org"><strong>Chisel</strong></a> is a hardware design language that facilitates <strong>advanced circuit generation and design reuse for both ASIC and FPGA digital logic designs</strong>.
Chisel adds hardware construction primitives to the <a href="https://www.scala-lang.org">Scala</a> programming language, providing designers with the power of a modern programming language to write complex, parameterizable circuit generators that produce synthesizable Verilog.
This generator methodology enables the creation of re-usable components and libraries, such as the FIFO queue and arbiters in the <a href="https://www.chisel-lang.org/api/latest/#chisel3.util.package">Chisel Standard Library</a>, raising the level of abstraction in design while retaining fine-grained control.</p>

<p>For more information on the benefits of Chisel see: <a href="https://stackoverflow.com/questions/53007782/what-benefits-does-chisel-offer-over-classic-hardware-description-languages">“What benefits does Chisel offer over classic Hardware Description Languages?”</a></p>

<p>Chisel is powered by <a href="https://github.com/chipsalliance/firrtl">FIRRTL (Flexible Intermediate Representation for RTL)</a>, a hardware compiler framework that performs optimizations of Chisel-generated circuits and supports custom user-defined circuit transformations.</p>

<h2 id="what-does-chisel-code-look-like">What does Chisel code look like?</h2>

<p>Consider an FIR filter that implements a convolution operation, as depicted in this block diagram:</p>

<p><img src="https://raw.githubusercontent.com/chipsalliance/chisel3/master/docs/src/images/fir_filter.svg?sanitize=true" width="512" /></p>

<p>While Chisel provides similar base primitives as synthesizable Verilog, and <em>could</em> be used as such:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// 3-point moving sum implemented in the style of a FIR filter</span>
<span class="k">class</span> <span class="nc">MovingSum3</span><span class="o">(</span><span class="n">bitWidth</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Module</span> <span class="o">{</span>
  <span class="k">val</span> <span class="nv">io</span> <span class="k">=</span> <span class="nc">IO</span><span class="o">(</span><span class="k">new</span> <span class="nc">Bundle</span> <span class="o">{</span>
    <span class="k">val</span> <span class="nv">in</span> <span class="k">=</span> <span class="nc">Input</span><span class="o">(</span><span class="nc">UInt</span><span class="o">(</span><span class="nv">bitWidth</span><span class="o">.</span><span class="py">W</span><span class="o">))</span>
    <span class="k">val</span> <span class="nv">out</span> <span class="k">=</span> <span class="nc">Output</span><span class="o">(</span><span class="nc">UInt</span><span class="o">(</span><span class="nv">bitWidth</span><span class="o">.</span><span class="py">W</span><span class="o">))</span>
  <span class="o">})</span>

  <span class="k">val</span> <span class="nv">z1</span> <span class="k">=</span> <span class="nc">RegNext</span><span class="o">(</span><span class="nv">io</span><span class="o">.</span><span class="py">in</span><span class="o">)</span>
  <span class="k">val</span> <span class="nv">z2</span> <span class="k">=</span> <span class="nc">RegNext</span><span class="o">(</span><span class="n">z1</span><span class="o">)</span>

  <span class="nv">io</span><span class="o">.</span><span class="py">out</span> <span class="o">:=</span> <span class="o">(</span><span class="nv">io</span><span class="o">.</span><span class="py">in</span> <span class="o">*</span> <span class="mf">1.</span><span class="n">U</span><span class="o">)</span> <span class="o">+</span> <span class="o">(</span><span class="n">z1</span> <span class="o">*</span> <span class="mf">1.</span><span class="n">U</span><span class="o">)</span> <span class="o">+</span> <span class="o">(</span><span class="n">z2</span> <span class="o">*</span> <span class="mf">1.</span><span class="n">U</span><span class="o">)</span>
<span class="o">}</span>
</code></pre></div></div>

<p>the power of Chisel comes from the ability to create generators, such as an FIR filter that is defined by the list of coefficients:</p>
<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Generalized FIR filter parameterized by the convolution coefficients</span>
<span class="k">class</span> <span class="nc">FirFilter</span><span class="o">(</span><span class="n">bitWidth</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">coeffs</span><span class="k">:</span> <span class="kt">Seq</span><span class="o">[</span><span class="kt">UInt</span><span class="o">])</span> <span class="k">extends</span> <span class="nc">Module</span> <span class="o">{</span>
  <span class="k">val</span> <span class="nv">io</span> <span class="k">=</span> <span class="nc">IO</span><span class="o">(</span><span class="k">new</span> <span class="nc">Bundle</span> <span class="o">{</span>
    <span class="k">val</span> <span class="nv">in</span> <span class="k">=</span> <span class="nc">Input</span><span class="o">(</span><span class="nc">UInt</span><span class="o">(</span><span class="nv">bitWidth</span><span class="o">.</span><span class="py">W</span><span class="o">))</span>
    <span class="k">val</span> <span class="nv">out</span> <span class="k">=</span> <span class="nc">Output</span><span class="o">(</span><span class="nc">UInt</span><span class="o">(</span><span class="nv">bitWidth</span><span class="o">.</span><span class="py">W</span><span class="o">))</span>
  <span class="o">})</span>
  <span class="c1">// Create the serial-in, parallel-out shift register</span>
  <span class="k">val</span> <span class="nv">zs</span> <span class="k">=</span> <span class="nc">Reg</span><span class="o">(</span><span class="nc">Vec</span><span class="o">(</span><span class="nv">coeffs</span><span class="o">.</span><span class="py">length</span><span class="o">,</span> <span class="nc">UInt</span><span class="o">(</span><span class="nv">bitWidth</span><span class="o">.</span><span class="py">W</span><span class="o">)))</span>
  <span class="nf">zs</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="o">:=</span> <span class="nv">io</span><span class="o">.</span><span class="py">in</span>
  <span class="nf">for</span> <span class="o">(</span><span class="n">i</span> <span class="k">&lt;-</span> <span class="mi">1</span> <span class="n">until</span> <span class="nv">coeffs</span><span class="o">.</span><span class="py">length</span><span class="o">)</span> <span class="o">{</span>
    <span class="nf">zs</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">:=</span> <span class="nf">zs</span><span class="o">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">)</span>
  <span class="o">}</span>

  <span class="c1">// Do the multiplies</span>
  <span class="k">val</span> <span class="nv">products</span> <span class="k">=</span> <span class="nv">VecInit</span><span class="o">.</span><span class="py">tabulate</span><span class="o">(</span><span class="nv">coeffs</span><span class="o">.</span><span class="py">length</span><span class="o">)(</span><span class="n">i</span> <span class="k">=&gt;</span> <span class="nf">zs</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">*</span> <span class="nf">coeffs</span><span class="o">(</span><span class="n">i</span><span class="o">))</span>

  <span class="c1">// Sum up the products</span>
  <span class="nv">io</span><span class="o">.</span><span class="py">out</span> <span class="o">:=</span> <span class="nv">products</span><span class="o">.</span><span class="py">reduce</span><span class="o">(</span><span class="k">_</span> <span class="o">+</span> <span class="k">_</span><span class="o">)</span>
<span class="o">}</span>
</code></pre></div></div>

<p>and use and re-use them across designs:</p>
<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">val</span> <span class="nv">movingSum3Filter</span> <span class="k">=</span> <span class="nc">Module</span><span class="o">(</span><span class="k">new</span> <span class="nc">FirFilter</span><span class="o">(</span><span class="mi">8</span><span class="o">,</span> <span class="nc">Seq</span><span class="o">(</span><span class="mf">1.</span><span class="n">U</span><span class="o">,</span> <span class="mf">1.</span><span class="n">U</span><span class="o">,</span> <span class="mf">1.</span><span class="n">U</span><span class="o">)))</span>  <span class="c1">// same 3-point moving sum filter as before</span>
<span class="k">val</span> <span class="nv">delayFilter</span> <span class="k">=</span> <span class="nc">Module</span><span class="o">(</span><span class="k">new</span> <span class="nc">FirFilter</span><span class="o">(</span><span class="mi">8</span><span class="o">,</span> <span class="nc">Seq</span><span class="o">(</span><span class="mf">0.</span><span class="n">U</span><span class="o">,</span> <span class="mf">1.</span><span class="n">U</span><span class="o">)))</span>  <span class="c1">// 1-cycle delay as a FIR filter</span>
<span class="k">val</span> <span class="nv">triangleFilter</span> <span class="k">=</span> <span class="nc">Module</span><span class="o">(</span><span class="k">new</span> <span class="nc">FirFilter</span><span class="o">(</span><span class="mi">8</span><span class="o">,</span> <span class="nc">Seq</span><span class="o">(</span><span class="mf">1.</span><span class="n">U</span><span class="o">,</span> <span class="mf">2.</span><span class="n">U</span><span class="o">,</span> <span class="mf">3.</span><span class="n">U</span><span class="o">,</span> <span class="mf">2.</span><span class="n">U</span><span class="o">,</span> <span class="mf">1.</span><span class="n">U</span><span class="o">)))</span>  <span class="c1">// 5-point FIR filter with a triangle impulse response</span>
</code></pre></div></div>

<p>The above can be converted to Verilog using <code class="language-plaintext highlighter-rouge">ChiselStage</code>:</p>
<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">chisel3.stage.</span><span class="o">{</span><span class="nc">ChiselStage</span><span class="o">,</span> <span class="nc">ChiselGeneratorAnnotation</span><span class="o">}</span>

<span class="o">(</span><span class="k">new</span> <span class="nv">chisel3</span><span class="o">.</span><span class="py">stage</span><span class="o">.</span><span class="py">ChiselStage</span><span class="o">).</span><span class="py">execute</span><span class="o">(</span>
  <span class="nc">Array</span><span class="o">(</span><span class="s">"-X"</span><span class="o">,</span> <span class="s">"verilog"</span><span class="o">),</span>
  <span class="nc">Seq</span><span class="o">(</span><span class="nc">ChiselGeneratorAnnotation</span><span class="o">(()</span> <span class="k">=&gt;</span> <span class="k">new</span> <span class="nc">FirFilter</span><span class="o">(</span><span class="mi">8</span><span class="o">,</span> <span class="nc">Seq</span><span class="o">(</span><span class="mf">1.</span><span class="n">U</span><span class="o">,</span> <span class="mf">1.</span><span class="n">U</span><span class="o">,</span> <span class="mf">1.</span><span class="n">U</span><span class="o">)))))</span>
</code></pre></div></div>

<p>Alternatively, you may generate some Verilog directly for inspection:</p>
<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">val</span> <span class="nv">verilogString</span> <span class="k">=</span> <span class="o">(</span><span class="k">new</span> <span class="nv">chisel3</span><span class="o">.</span><span class="py">stage</span><span class="o">.</span><span class="py">ChiselStage</span><span class="o">).</span><span class="py">emitVerilog</span><span class="o">(</span><span class="k">new</span> <span class="nc">FirFilter</span><span class="o">(</span><span class="mi">8</span><span class="o">,</span> <span class="nc">Seq</span><span class="o">(</span><span class="mf">0.</span><span class="n">U</span><span class="o">,</span> <span class="mf">1.</span><span class="n">U</span><span class="o">)))</span>
<span class="nf">println</span><span class="o">(</span><span class="n">verilogString</span><span class="o">)</span>
</code></pre></div></div>

<h2 id="getting-started">Getting Started</h2>

<h3 id="bootcamp-interactive-tutorial">Bootcamp Interactive Tutorial</h3>
<p>The <a href="https://mybinder.org/v2/gh/freechipsproject/chisel-bootcamp/master"><strong>online Chisel Bootcamp</strong></a> is the recommended way to get started with and learn Chisel.
<strong>No setup is required</strong> (it runs in the browser), nor does it assume any prior knowledge of Scala.</p>

<p>The <a href="https://github.com/ucb-bar/chisel-tutorial"><strong>classic Chisel tutorial</strong></a> contains small exercises and runs on your computer.</p>

<h3 id="a-textbook-on-chisel">A Textbook on Chisel</h3>

<p>If you like a textbook to learn Chisel and also a bit of digital design in general, you may be interested in reading <a href="http://www.imm.dtu.dk/~masca/chisel-book.html"><strong>Digital Design with Chisel</strong></a>. It is available in English, Chinese, Japanese, and Vietnamese.</p>

<h3 id="build-your-own-chisel-projects">Build Your Own Chisel Projects</h3>

<p>See <a href="SETUP.md">the setup instructions</a> for how to set up your environment to build Chisel locally.</p>

<p>When you’re ready to build your own circuits in Chisel, <strong>we recommend starting from the <a href="https://github.com/freechipsproject/chisel-template">Chisel Template</a> repository</strong>, which provides a pre-configured project, example design, and testbench.
Follow the <a href="https://github.com/freechipsproject/chisel-template">chisel-template README</a> to get started.</p>

<p>If you insist on setting up your own project from scratch, your project needs to depend on both the chisel3-plugin (Scalac plugin) and the chisel3 library.
For example, in SBT this could be expressed as:</p>
<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// build.sbt</span>
<span class="n">scalaVersion</span> <span class="o">:=</span> <span class="s">"2.12.13"</span>
<span class="nf">addCompilerPlugin</span><span class="o">(</span><span class="s">"edu.berkeley.cs"</span> <span class="o">%</span> <span class="s">"chisel3-plugin"</span> <span class="o">%</span> <span class="s">"3.4.4"</span> <span class="n">cross</span> <span class="nv">CrossVersion</span><span class="o">.</span><span class="py">full</span><span class="o">)</span>
<span class="n">libraryDependencies</span> <span class="o">+=</span> <span class="s">"edu.berkeley.cs"</span> <span class="o">%%</span> <span class="s">"chisel3"</span> <span class="o">%</span> <span class="s">"3.4.4"</span>
<span class="n">scalacOptions</span> <span class="o">+=</span> <span class="s">"-Xsource:2.11"</span>
<span class="c1">// We also recommend using chiseltest for writing unit tests </span>
<span class="n">libraryDependencies</span> <span class="o">+=</span> <span class="s">"edu.berkeley.cs"</span> <span class="o">%%</span> <span class="s">"chiseltest"</span> <span class="o">%</span> <span class="s">"0.3.4"</span> <span class="o">%</span> <span class="s">"test"</span>
</code></pre></div></div>
<h3 id="guide-for-new-contributors">Guide For New Contributors</h3>
<p>If you are trying to make a contribution to this project, please read <a href="https://github.com/Burnleydev1/chisel3/blob/recent_PR/CONTRIBUTING.md">CONTRIBUTING.md</a></p>

<h3 id="design-verification">Design Verification</h3>

<p>These simulation-based verification tools are available for Chisel:</p>
<ul>
  <li><a href="https://github.com/freechipsproject/chisel-testers"><strong>iotesters</strong></a>, specifically <a href="https://github.com/freechipsproject/chisel-testers/wiki/Using%20the%20PeekPokeTester">PeekPokeTester</a>, provides constructs (<code class="language-plaintext highlighter-rouge">peek</code>, <code class="language-plaintext highlighter-rouge">poke</code>, <code class="language-plaintext highlighter-rouge">expect</code>) similar to a non-synthesizable Verilog testbench.</li>
  <li><a href="https://github.com/ucb-bar/chisel-testers2"><strong>testers2</strong></a> is an in-development replacement for PeekPokeTester, providing the same base constructs but with a streamlined interface and concurrency support with <code class="language-plaintext highlighter-rouge">fork</code> and <code class="language-plaintext highlighter-rouge">join</code>.</li>
</ul>

<h2 id="documentation">Documentation</h2>

<h3 id="useful-resources">Useful Resources</h3>

<ul>
  <li><a href="https://github.com/freechipsproject/chisel-cheatsheet/releases/latest/download/chisel_cheatsheet.pdf"><strong>Cheat Sheet</strong></a>, a 2-page reference of the base Chisel syntax and libraries</li>
  <li><a href="https://www.chisel-lang.org/api/latest/chisel3/index.html"><strong>ScalaDoc</strong></a>, a listing, description, and examples of the functionality exposed by Chisel</li>
  <li><a href="https://gitter.im/freechipsproject/chisel3"><strong>Gitter</strong></a>, where you can ask questions or discuss anything Chisel</li>
  <li><a href="https://www.chisel-lang.org"><strong>Website</strong></a> (<a href="https://github.com/freechipsproject/www.chisel-lang.org/">source</a>)</li>
  <li><a href="https://scastie.scala-lang.org/KtzZQ3nFTea9KoNh0tRqtg"><strong>Scastie (3.5.0-RC1)</strong></a></li>
  <li><a href="http://www.asic-world.com/verilog/veritut.html"><strong>asic-world</strong></a> If you aren’t familiar with verilog, this is a good tutorial.</li>
</ul>

<p>If you are migrating from Chisel2, see <a href="https://www.chisel-lang.org/chisel3/chisel3-vs-chisel2.html">the migration guide</a>.</p>

<h3 id="data-types-overview">Data Types Overview</h3>
<p>These are the base data types for defining circuit components:</p>

<p><img src="https://raw.githubusercontent.com/chipsalliance/chisel3/master/docs/src/images/type_hierarchy.svg?sanitize=true" alt="Image" /></p>

<h2 id="contributor-documentation">Contributor Documentation</h2>
<p>This section describes how to get started contributing to Chisel itself, including how to test your version locally against other projects that pull in Chisel using <a href="https://www.scala-sbt.org/1.x/docs/Library-Dependencies.html">sbt’s managed dependencies</a>.</p>

<h3 id="useful-resources-for-contributors">Useful Resources for Contributors</h3>

<p>The <a href="#useful-resources">Useful Resources</a> for users are also helpful for contributors.</p>

<ul>
  <li><a href="https://docs.google.com/presentation/d/114YihixFBPCfUnv1inqAL8UjsiWfcNWdPHX7SeqlRQc"><strong>Chisel Breakdown Slides</strong></a>, an introductory talk about Chisel’s internals</li>
</ul>

<h3 id="compiling-and-testing-chisel">Compiling and Testing Chisel</h3>

<p>You must first install required dependencies to build Chisel locally, please see <a href="SETUP.md">the setup instructions</a>.</p>

<p>Clone and build the Chisel library:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone https://github.com/chipsalliance/chisel3.git
<span class="nb">cd </span>chisel3
sbt compile
</code></pre></div></div>

<p>In order to run the following unit tests, you will need several tools on your <code class="language-plaintext highlighter-rouge">PATH</code>, namely
<a href="https://www.veripool.org/verilator/">verilator</a>,
<a href="http://www.clifford.at/yosys/">yosys</a>,
<a href="https://github.com/chipsalliance/espresso">espresso</a>,
and <a href="https://github.com/Z3Prover/z3">z3</a>.
Check that each is installed on your <code class="language-plaintext highlighter-rouge">PATH</code> by running <code class="language-plaintext highlighter-rouge">which verilator</code> and so on.</p>

<p>If the compilation succeeded and the dependencies noted above are installed, you can then run the included unit tests by invoking:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sbt test
</code></pre></div></div>

<h3 id="running-projects-against-local-chisel">Running Projects Against Local Chisel</h3>

<p>To use the development version of Chisel (<code class="language-plaintext highlighter-rouge">master</code> branch), you will need to build from source and <code class="language-plaintext highlighter-rouge">publishLocal</code>.
The repository version can be found in the <a href="build.sbt">build.sbt</a> file.
As of the time of writing it was:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>version := "3.4-SNAPSHOT"
</code></pre></div></div>

<p>To publish your version of Chisel to the local Ivy (sbt’s dependency manager) repository, run:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sbt publishLocal
</code></pre></div></div>

<p>The compiled version gets placed in <code class="language-plaintext highlighter-rouge">~/.ivy2/local/edu.berkeley.cs/</code>.
If you need to un-publish your local copy of Chisel, remove the directory generated in <code class="language-plaintext highlighter-rouge">~/.ivy2/local/edu.berkeley.cs/</code>.</p>

<p>In order to have your projects use this version of Chisel, you should update the <code class="language-plaintext highlighter-rouge">libraryDependencies</code> setting in your project’s build.sbt file to:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>libraryDependencies += "edu.berkeley.cs" %% "chisel3" % "3.4-SNAPSHOT"
</code></pre></div></div>

<h3 id="building-chisel-with-firrtl-in-the-same-sbt-project">Building Chisel with FIRRTL in the same SBT Project</h3>

<p>While we recommend using the library dependency approach as described above, it is possible to build Chisel and FIRRTL in a single SBT project.</p>

<p><strong>Caveats</strong></p>
<ul>
  <li>This only works for the “main” configuration; you cannot build the Chisel tests this way because <code class="language-plaintext highlighter-rouge">treadle</code> is only supported as a library dependency.</li>
  <li>Do not <code class="language-plaintext highlighter-rouge">publishLocal</code> when building this way. The published artifact will be missing the FIRRTL dependency.</li>
</ul>

<p>This works by using <a href="http://eed3si9n.com/hot-source-dependencies-using-sbt-sriracha">sbt-sriracha</a>, an SBT plugin for toggling between source and library dependencies.
It provides two JVM system properties that, when set, will tell SBT to include FIRRTL as a source project:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">sbt.sourcemode</code> - when set to true, SBT will look for FIRRTL in the workspace</li>
  <li><code class="language-plaintext highlighter-rouge">sbt.workspace</code> - sets the root directory of the workspace</li>
</ul>

<p>Example use:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># From root of this repo</span>
git clone git@github.com:chipsalliance/firrtl.git
sbt <span class="nt">-Dsbt</span>.sourcemode<span class="o">=</span><span class="nb">true</span> <span class="nt">-Dsbt</span>.workspace<span class="o">=</span><span class="nv">$PWD</span>
</code></pre></div></div>

<p>This is primarily useful for building projects that themselves want to include Chisel as a source dependency.
As an example, see <a href="https://github.com/chipsalliance/rocket-chip">Rocket Chip</a></p>

<h3 id="chisel3-architecture-overview">Chisel3 Architecture Overview</h3>

<p>The Chisel3 compiler consists of these main parts:</p>

<ul>
  <li><strong>The frontend</strong>, <code class="language-plaintext highlighter-rouge">chisel3.*</code>, which is the publicly visible “API” of Chisel
and what is used in Chisel RTL. These just add data to the…</li>
  <li><strong>The Builder</strong>, <code class="language-plaintext highlighter-rouge">chisel3.internal.Builder</code>, which maintains global state
(like the currently open Module) and contains commands, generating…</li>
  <li><strong>The intermediate data structures</strong>, <code class="language-plaintext highlighter-rouge">chisel3.firrtl.*</code>, which are
syntactically very similar to Firrtl. Once the entire circuit has been
elaborated, the top-level object (a <code class="language-plaintext highlighter-rouge">Circuit</code>) is then passed to…</li>
  <li><strong>The Firrtl emitter</strong>, <code class="language-plaintext highlighter-rouge">chisel3.firrtl.Emitter</code>, which turns the
intermediate data structures into a string that can be written out into a
Firrtl file for further processing.</li>
</ul>

<p>Also included is:</p>
<ul>
  <li><strong>The standard library</strong> of circuit generators, <code class="language-plaintext highlighter-rouge">chisel3.util.*</code>. These
contain commonly used interfaces and constructors (like <code class="language-plaintext highlighter-rouge">Decoupled</code>, which
wraps a signal with a ready-valid pair) as well as fully parameterizable
circuit generators (like arbiters and multiplexors).</li>
  <li><strong>Chisel Stage</strong>, <code class="language-plaintext highlighter-rouge">chisel3.stage.*</code>, which contains compilation and test
functions that are invoked in the standard Verilog generation and simulation
testing infrastructure. These can also be used as part of custom flows.</li>
</ul>

<h3 id="chisel-sub-projects">Chisel Sub-Projects</h3>

<p>Chisel consists of 4 Scala projects; each is its own separate compilation unit:</p>

<ul>
  <li><a href="core"><code class="language-plaintext highlighter-rouge">core</code></a> is the bulk of the source code of Chisel, depends on <code class="language-plaintext highlighter-rouge">macros</code></li>
  <li><a href="src/main"><code class="language-plaintext highlighter-rouge">src/main</code></a> is the “main” that brings it all together and includes a <a href="src/main/scala/chisel3/util"><code class="language-plaintext highlighter-rouge">util</code></a> library, which depends on <code class="language-plaintext highlighter-rouge">core</code></li>
  <li><a href="plugin"><code class="language-plaintext highlighter-rouge">plugin</code></a> is the compiler plugin, no internal dependencies</li>
  <li><a href="macros"><code class="language-plaintext highlighter-rouge">macros</code></a> is most of the macros used in Chisel, no internal dependencies</li>
</ul>

<p>Code that touches lots of APIs that are private to the <code class="language-plaintext highlighter-rouge">chisel3</code> package should belong in <code class="language-plaintext highlighter-rouge">core</code>, while code that is pure Chisel should belong in <code class="language-plaintext highlighter-rouge">src/main</code>.</p>

<h3 id="which-version-should-i-use">Which version should I use?</h3>

<p>The chisel eco-system (<code class="language-plaintext highlighter-rouge">chisel3</code>, <code class="language-plaintext highlighter-rouge">firrtl</code>, <code class="language-plaintext highlighter-rouge">dsptools</code>, <code class="language-plaintext highlighter-rouge">firrtl-interpreter</code>, <code class="language-plaintext highlighter-rouge">treadle</code>, <code class="language-plaintext highlighter-rouge">diagrammer</code>) use a form of semantic versioning:
 major versions are identified by two leading numbers, separated by a dot (i.e., <code class="language-plaintext highlighter-rouge">3.2</code>), minor versions by a single number following the major version, separated by a dot.
 We maintain API compatibility within a major version (i.e., <code class="language-plaintext highlighter-rouge">3.2.12</code> should be API-compatible with <code class="language-plaintext highlighter-rouge">3.2.0</code>), but do not guarantee API compatibility between major versions
 (i.e., APIs may change between <code class="language-plaintext highlighter-rouge">3.1.8</code> and <code class="language-plaintext highlighter-rouge">3.2.0</code>).
 We may introduce new definitions or add additional parameters to existing definitions in a minor release, but we do our best to maintain compatibility with previous minor releases of a major release - code that worked in <code class="language-plaintext highlighter-rouge">3.2.0</code> should continue to work un-modified in <code class="language-plaintext highlighter-rouge">3.2.10</code>.</p>

<p>We encourage chisel users (rather than chisel developers), to use release versions of chisel.
 The chisel web site (and GitHub repository) should indicate the current release version.
 If you encounter an issue with a released version of chisel, please file an issue on GitHub mentioning the chisel version and provide a simple test case (if possible).
 Try to reproduce the issue with the associated latest minor release (to verify that the issue hasn’t been addressed).</p>

<p>If you’re developing a chisel library (or <code class="language-plaintext highlighter-rouge">chisel</code> itself), you’ll probably want to work closer to the tip of the development trunk.
 By default, the master branches of the chisel repositories are configured to build and publish their version of the code as <code class="language-plaintext highlighter-rouge">Z.Y-SNAPSHOT</code>.
 We try to publish an updated SNAPSHOT every two weeks.
 There is no guarantee of API compatibility between SNAPSHOT versions, but we publish date-stamped <code class="language-plaintext highlighter-rouge">Z.Y-yyyymmdd-SNAPSHOT</code> versions which will not change.
 The code in <code class="language-plaintext highlighter-rouge">Z.Y-SNAPSHOT</code> should match the code in the most recent <code class="language-plaintext highlighter-rouge">Z.Y-yyyymmdd-SNAPSHOT</code> version, the differences being the chisel library dependencies:
 <code class="language-plaintext highlighter-rouge">Z.Y-SNAPSHOT</code>s depend on <code class="language-plaintext highlighter-rouge">V.U-SNAPSHOT</code>s and <code class="language-plaintext highlighter-rouge">Z.Y-yyyymmdd-SNAPSHOT</code>s will depend on <code class="language-plaintext highlighter-rouge">V.U-yyyymmdd-SNAPSHOT</code>s.
 <strong>NOTE</strong>: Prior to the <code class="language-plaintext highlighter-rouge">v3.2-20191030-SNAPSHOT</code> version, we used <code class="language-plaintext highlighter-rouge">Z.Y-mmddyy-SNAPSHOT</code> to tag and name published SNAPSHOTs.</p>

<p>If you’re developing a library (or another chisel tool), you should probably work with date-stamped SNAPSHOTs until your library or tool is ready to be published (to ensure a consistent API).
 Prior to publishing, you should verify your code against generic (no date-stamp) SNAPSHOTs, or locally published clones of the current master branches of chisel dependencies.</p>

</div></div></section><section class="technologies"><div class="container"><div class="row">
            <div class="col-md-4"><div class="first-icon-wrapper"></div><h3>Scala</h3><p>Chisel is powered by Scala and brings all the power of object-oriented and functional programming to type-safe hardware design and generation.</p></div>
          
            <div class="col-md-4"><div class="second-icon-wrapper"></div><h3>Chisel</h3><p>Chisel, the Chisel standard library, and Chisel testing infrastructure enable agile, expressive, and reusable hardware design methodologies.</p></div>
          
            <div class="col-md-4"><div class="third-icon-wrapper"></div><h3>FIRRTL</h3><p>The FIRRTL circuit compiler starts after Chisel and enables backend (FPGA, ASIC, technology) specialization, automated circuit transformation, and Verilog generation.</p></div>
          </div></div></section></main><footer id="site-footer"><div class="container"><div class="row"><div class="col-xs-6"><p>Chisel/FIRRTL is designed and developed by <a href="" target="_blank" rel="noopener noreferrer">the Chisel/FIRRTL Developers</a></p></div><div class="col-xs-6"><p class="text-right"><a href="https://github.com/freechipsproject/chisel3" target="_blank" rel="noopener noreferrer"><span class="fa fa-github"></span>View on GitHub</a></p></div></div><div class="row"><div class="col-xs-6"><p>Website built with <a href="https://47degrees.github.io/sbt-microsites/" target="_blank" rel="noopener noreferrer">sbt-microsites</a> - © 2019 <a href="https://www.47deg.com/" target="_blank" rel="noopener noreferrer">47 Degrees</a></p></div></div></div></footer><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/highlight/highlight.pack.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/languages/verilog.min.js"></script><script src="/lunr/lunr.js"></script><script>
// For all code blocks, copy the language from the containing div
// to the inner code tag (where hljs expects it to be)
const langPrefix = 'language-';
document.querySelectorAll(`div[class^='${langPrefix}']`).forEach(function(div) {
  div.classList.forEach(function(cssClass) {
    if (cssClass.startsWith(langPrefix)) {
      const lang = cssClass.substring(langPrefix.length);
      div.querySelectorAll('pre code').forEach(function(code) {
        code.classList.add(lang);
      });
    }
  });
});

hljs.configure({languages:['scala','java','bash','verilog']});
hljs.initHighlightingOnLoad();
      </script><script>console.info('\x57\x65\x62\x73\x69\x74\x65\x20\x62\x75\x69\x6c\x74\x20\x77\x69\x74\x68\x3a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x5f\x20\x20\x20\x20\x5f\x5f\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x20\x5f\x5f\x0a\x20\x20\x20\x5f\x5f\x5f\x5f\x5f\x2f\x20\x2f\x5f\x20\x20\x2f\x20\x2f\x5f\x20\x20\x20\x20\x20\x20\x5f\x5f\x5f\x5f\x20\x5f\x5f\x5f\x20\x20\x28\x5f\x29\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x20\x20\x5f\x5f\x5f\x5f\x5f\x28\x5f\x29\x20\x2f\x5f\x5f\x5f\x5f\x20\x20\x5f\x5f\x5f\x5f\x5f\x0a\x20\x20\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x5c\x2f\x20\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x60\x5f\x5f\x20\x5c\x2f\x20\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x5c\x2f\x20\x5f\x5f\x5f\x2f\x20\x2f\x20\x5f\x5f\x2f\x20\x5f\x20\x5c\x2f\x20\x5f\x5f\x5f\x2f\x0a\x20\x28\x5f\x5f\x20\x20\x29\x20\x2f\x5f\x2f\x20\x2f\x20\x2f\x5f\x2f\x5f\x5f\x5f\x5f\x5f\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x5f\x5f\x2f\x20\x2f\x20\x20\x2f\x20\x2f\x5f\x2f\x20\x28\x5f\x5f\x20\x20\x29\x20\x2f\x20\x2f\x5f\x2f\x20\x20\x5f\x5f\x28\x5f\x5f\x20\x20\x29\x0a\x2f\x5f\x5f\x5f\x5f\x2f\x5f\x2e\x5f\x5f\x5f\x2f\x5c\x5f\x5f\x2f\x20\x20\x20\x20\x20\x2f\x5f\x2f\x20\x2f\x5f\x2f\x20\x2f\x5f\x2f\x5f\x2f\x5c\x5f\x5f\x5f\x2f\x5f\x2f\x20\x20\x20\x5c\x5f\x5f\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x2f\x5f\x2f\x5c\x5f\x5f\x2f\x5c\x5f\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x2f\x0a\x0a\x68\x74\x74\x70\x73\x3a\x2f\x2f\x34\x37\x64\x65\x67\x2e\x67\x69\x74\x68\x75\x62\x2e\x69\x6f\x2f\x73\x62\x74\x2d\x6d\x69\x63\x72\x6f\x73\x69\x74\x65\x73')</script><script>((window.gitter = {}).chat = {}).options = {
room: 'freechipsproject/chisel3'};</script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js"></script><script src="/js/version-selector.js"></script><script src="/js/search.js"></script></body></html>