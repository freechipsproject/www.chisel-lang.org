<html><head><title>Chisel/FIRRTL: FIRRTL</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="the Chisel/FIRRTL Developers" /><meta name="description" content="Chisel/FIRRTL
Hardware Compiler Framework" /><meta name="og:image" content="/img/poster.png" /><meta name="image" property="og:image" content="/img/poster.png" /><meta name="og:title" content="Chisel/FIRRTL: FIRRTL" /><meta name="title" property="og:title" content="Chisel/FIRRTL: FIRRTL" /><meta name="og:site_name" content="Chisel/FIRRTL" /><meta name="og:url" content="" /><meta name="og:type" content="website" /><meta name="og:description" content="Chisel/FIRRTL
Hardware Compiler Framework" /><link rel="icon" type="image/png" href="/img/favicon.png" /><meta name="twitter:title" content="Chisel/FIRRTL: FIRRTL" /><meta name="twitter:image" content="https://www.chisel-lang.org/img/poster.png" /><meta name="twitter:description" content="Chisel/FIRRTL
Hardware Compiler Framework" /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:site" content="@chisel_lang" /><link rel="icon" type="image/png" sizes="16x16" href="/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/img/favicon310x150.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/highlight/styles/default.css" /><link rel="stylesheet" href="/css/style.css" /><link rel="stylesheet" href="/css/palette.css" /><link rel="stylesheet" href="/css/codemirror.css" /><script async="async">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-145179088-1' , 'auto');
ga('send', 'pageview');
      </script></head><body class="docs"><div id="wrapper"><div id="sidebar-wrapper"><ul id="sidebar" class="sidebar-nav"><li class="sidebar-brand"><a href="/" class="brand"><div class="brand-wrapper"><span>Chisel/FIRRTL</span></div></a></li>                            <li><a href="/firrtl/index.html" class=" active ">FIRRTL</a></li> <li><a href="/api/firrtl/latest/index.html" class="">API Documentation</a> <ul class="sub_section"> <li><a href="/api/firrtl/SNAPSHOT/index.html" class="">SNAPSHOT</a></li> <li><a href="/api/firrtl/v1.1.7/index.html" class="">v1.1.7</a></li> <li><a href="/api/firrtl/v1.1.6/index.html" class="">v1.1.6</a></li> <li><a href="/api/firrtl/v1.1.5/index.html" class="">v1.1.5</a></li> <li><a href="/api/firrtl/v1.1.4/index.html" class="">v1.1.4</a></li> <li><a href="/api/firrtl/v1.1.3/index.html" class="">v1.1.3</a></li> <li><a href="/api/firrtl/v1.1.2/index.html" class="">v1.1.2</a></li> <li><a href="/api/firrtl/v1.1.1/index.html" class="">v1.1.1</a></li> <li><a href="/api/firrtl/v1.1.0/index.html" class="">v1.1.0</a></li> <li><a href="/api/firrtl/v1.0.2/index.html" class="">v1.0.2</a></li> <li><a href="/api/firrtl/v1.0.1/index.html" class="">v1.0.1</a></li> <li><a href="/api/firrtl/v1.0.0/index.html" class="">v1.0.0</a></li></ul></li>    </ul></div><div id="page-content-wrapper"><div class="nav"><div class="container-fluid"><div class="row"><div class="col-lg-12"><div class="action-menu pull-left clearfix"><a href="#menu-toggle" id="menu-toggle"><i class="fa fa-bars" aria-hidden="true"></i></a></div><ul class="pull-right"></ul></div></div></div></div><div id="content" data-github-owner="freechipsproject" data-github-repo="chisel3"><div class="content-wrapper"><section><p><img src="https://raw.githubusercontent.com/freechipsproject/firrtl/master/doc/images/firrtl_logo.svg?sanitize=true" alt="FIRRTL" /></p>

<p>#</p>

<p><a href="https://gitter.im/freechipsproject/firrtl?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge"><img src="https://badges.gitter.im/freechipsproject/firrtl.svg" alt="Join the chat at https://gitter.im/freechipsproject/firrtl" /></a>
<a href="https://travis-ci.org/freechipsproject/firrtl"><img src="https://travis-ci.org/freechipsproject/firrtl.svg?branch=master" alt="Build Status" /></a></p>
<h4 id="flexible-internal-representation-for-rtl">Flexible Internal Representation for RTL</h4>

<p>Firrtl is an intermediate representation (IR) for digital circuits designed as a platform for writing circuit-level transformations.
 This repository consists of a collection of transformations (written in Scala) which simplify, verify, transform, or emit their input circuit.</p>

<p>A Firrtl compiler is constructed by chaining together these transformations, then writing the final circuit to a file.</p>

<p>For a detailed description of Firrtl’s intermediate representation, see the document “Specification of the Firrtl Language” located in <a href="https://github.com/ucb-bar/firrtl/blob/master/spec/spec.pdf">spec/spec.pdf</a>.</p>

<h4 id="wiki-pages-and-tutorials">Wiki Pages and Tutorials</h4>

<p>Useful information is on our wiki, located here:</p>
<ul>
  <li>https://github.com/ucb-bar/firrtl/wiki</li>
</ul>

<p>Some important pages to read, before writing your own transform:</p>
<ul>
  <li><a href="https://github.com/ucb-bar/firrtl/wiki/submitting-a-pull-request">Submitting Pull Requests</a></li>
  <li><a href="https://github.com/ucb-bar/firrtl/wiki/Understanding-Firrtl-Intermediate-Representation">Understanding Firrtl’s IR</a></li>
  <li><a href="https://github.com/ucb-bar/firrtl/wiki/traversing-a-circuit">Traversing a Circuit</a></li>
  <li><a href="https://github.com/ucb-bar/firrtl/wiki/Common-Pass-Idioms">Common Pass Idioms</a></li>
</ul>

<p>To write a Firrtl transform, please start with the tutorial here: <a href="https://github.com/ucb-bar/firrtl/blob/master/src/main/scala/tutorial">src/main/scala/tutorial</a>.
To run these examples:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sbt assembly
./utils/bin/firrtl -td regress -tn rocket --custom-transforms tutorial.lesson1.AnalyzeCircuit
./utils/bin/firrtl -td regress -tn rocket --custom-transforms tutorial.lesson2.AnalyzeCircuit
</code></pre></div></div>

<h4 id="other-tools">Other Tools</h4>
<ul>
  <li>Firrtl syntax highlighting for Vim users: https://github.com/azidar/firrtl-syntax</li>
  <li>Firrtl syntax highlighting for Sublime Text 3 users: https://github.com/codelec/highlight-firrtl</li>
  <li>Firrtl mode for Emacs users: https://github.com/ibm/firrtl-mode</li>
  <li>Chisel3, an embedded hardware DSL that generates Firrtl: https://github.com/ucb-bar/chisel3</li>
  <li>Firrtl Interpreter: https://github.com/ucb-bar/firrtl-interpreter</li>
  <li>Yosys Verilog-to-Firrtl Front-end: https://github.com/cliffordwolf/yosys</li>
</ul>

<h4 id="installation-instructions">Installation Instructions</h4>
<p><em>Disclaimer</em>: The installation instructions should work for OSX/Linux machines. Other environments may not be tested.</p>

<h5 id="prerequisites">Prerequisites</h5>
<ol>
  <li>If not already installed, install <a href="http://www.veripool.org/projects/verilator/wiki/Installing">verilator</a> (Requires at least v3.886)</li>
  <li>If not already installed, install <a href="http://www.scala-sbt.org/">sbt</a> (Requires at least v0.13.6)</li>
</ol>

<h5 id="installation">Installation</h5>
<ol>
  <li>Clone the repository:
<code class="highlighter-rouge">git clone https://github.com/freechipsproject/firrtl.git &amp;&amp; cd firrtl</code></li>
  <li>Compile firrtl: <code class="highlighter-rouge">sbt compile</code></li>
  <li>Run tests: <code class="highlighter-rouge">sbt test</code></li>
  <li>Build executable (<code class="highlighter-rouge">utils/bin/firrtl</code>): <code class="highlighter-rouge">sbt assembly</code>
    <ul>
      <li><strong>Note:</strong> You can add <code class="highlighter-rouge">utils/bin</code> to your path to call firrtl from other processes</li>
    </ul>
  </li>
  <li>Publish this version locally in order to satisfy other tool chain library dependencies:
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sbt publishLocal
</code></pre></div>    </div>
  </li>
</ol>

<h5 id="useful-sbt-tips">Useful sbt Tips</h5>
<ol>
  <li>Run a single test suite:
 <code class="highlighter-rouge">sbt "testOnly firrtlTests.UnitTests"</code></li>
  <li>Continually execute a command:
 <code class="highlighter-rouge">sbt ~compile</code></li>
  <li>Only invoke sbt once:
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sbt
&gt; compile
&gt; test
</code></pre></div>    </div>
  </li>
</ol>

<h5 id="using-firrtl-as-a-commandline-tool">Using Firrtl as a commandline tool</h5>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>utils/bin/firrtl -i regress/rocket.fir -o regress/rocket.v -X verilog // Compiles rocket-chip to Verilog
utils/bin/firrtl --help // Returns usage string
</code></pre></div></div>

<h5 id="citing-firrtl">Citing Firrtl</h5>

<p>If you use Firrtl in a paper, please cite the following ICCAD paper and technical report:
https://ieeexplore.ieee.org/document/8203780</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@INPROCEEDINGS{8203780, 
author={A. Izraelevitz and J. Koenig and P. Li and R. Lin and A. Wang and A. Magyar and D. Kim and C. Schmidt and C. Markley and J. Lawson and J. Bachrach}, 
booktitle={2017 IEEE/ACM International Conference on Computer-Aided Design (ICCAD)}, 
title={Reusability is FIRRTL ground: Hardware construction languages, compiler frameworks, and transformations}, 
year={2017}, 
volume={}, 
number={}, 
pages={209-216}, 
keywords={field programmable gate arrays;hardware description languages;program compilers;software reusability;hardware development practices;hardware libraries;open-source hardware intermediate representation;hardware compiler transformations;Hardware construction languages;retargetable compilers;software development;virtual Cambrian explosion;hardware compiler frameworks;parameterized libraries;FIRRTL;FPGA mappings;Chisel;Flexible Intermediate Representation for RTL;Reusability;Hardware;Libraries;Hardware design languages;Field programmable gate arrays;Tools;Open source software;RTL;Design;FPGA;ASIC;Hardware;Modeling;Reusability;Hardware Design Language;Hardware Construction Language;Intermediate Representation;Compiler;Transformations;Chisel;FIRRTL}, 
doi={10.1109/ICCAD.2017.8203780}, 
ISSN={1558-2434}, 
month={Nov},}
</code></pre></div></div>

<p>https://www2.eecs.berkeley.edu/Pubs/TechRpts/2016/EECS-2016-9.html</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@techreport{Li:EECS-2016-9,
    Author = {Li, Patrick S. and Izraelevitz, Adam M. and Bachrach, Jonathan},
    Title = {Specification for the FIRRTL Language},
    Institution = {EECS Department, University of California, Berkeley},
    Year = {2016},
    Month = {Feb},
    URL = {http://www2.eecs.berkeley.edu/Pubs/TechRpts/2016/EECS-2016-9.html},
    Number = {UCB/EECS-2016-9}
}
</code></pre></div></div>

</section></div></div></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/highlight/highlight.pack.js"></script><script>hljs.configure({languages:['scala','java','bash']});
hljs.initHighlighting();
              </script><script>((window.gitter = {}).chat = {}).options = {
room: 'freechipsproject/chisel3'};</script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js"></script><script src="/js/main.js"></script></body></html>